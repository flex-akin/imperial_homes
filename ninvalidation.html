<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Imperial Homes Mortgage Bank</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/imperial_logo.png" rel="icon">
  <link href="assets/img/imperial_logo.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/4635ab7630.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
</script>

  <script src="./assets/js/easy-number-separator.js"></script>
  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
  <style>
    .flash-card {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #ddf1e2;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      z-index: 9999;
    }
    .flash-card-header {
        display: flex;
        justify-content: flex-end;
        padding: 2px;
    }

    .flash-card-close {
        cursor: pointer;
        font-size: 20px;
    }
    .flash-card-title {
      font-weight: bold;
    }

    .flash-card-message {
      margin-top: 10px;
    }
  </style>
</head>

<body>



  <div class="d-flex row-reverse"></div>
  <div class="d-flex justify-content-start"></div>
  <header  id="header" class="fixed-top d-flex align-items-center">
    <div class="container-fluid d-flex align-items-center justify-content-between">
      <div class="logo d-flex flex-row align-items-center">
        <a href="index.html"><img src="assets/img/imperial_logo.png" alt="" class="img-fluid"></a>
        <div>
          <p id="imperial" style=" font-weight:700;">Imperial Homes Mortgage Bank</p>
  
        </div>
  
      </div>
    
      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="index.html">Home</a></li>
          <li class="dropdown"><a href=""><span>About Us</span> <i class="fa-sharp fa-solid fa-caret-down"></i></a>
            <ul>
              <li><a href="about.html">About Us</a></li>
              <li class="dropdown"><a href="#"><span>Leadership</span> <i class="fa-solid fa-caret-right"></i> </i></a>
                <ul>
                  <li><a href="directors.html">Directors</a></li>
                  <li><a href="management.html">Management</a></li>
      
                </ul>
              </li>
              <li><a href="./assets/books/Whistle-Blowing-Policy.pdf">Whitsle Blower Policy</a></li>
              <li><a href="./assets/books/GUIDELINES-ON-ACCESSING-RETIREMENT-SAVINGS-ACCOUNT.pdf">RSA Access Guidelines</a></li>
              <li><a href="./assets/books/Privacy-policy-IHMB-LSYS-004.pdf">Privacy Policy</a></li>
            
            </ul>
          </li>
          <li><a class="nav-link scrollto" href="productandservices.html">Product & Services</a></li>
          <li class="dropdown"><a href="#"><span>Forms</span> <i class="fa-sharp fa-solid fa-caret-down"></i> </a>
            <ul>
              <li><a href="https://withdrawalrequest.imperialmortgagebank.com/">Withdrawal Request</a></li>
              <li><a href="https://mortgagerequest.imperialmortgagebank.com/">Mortgage Application</a></li>
              <li class="dropdown"><a href="https://www.accountopening.imperialmortgagebank.com/"><span>Account Opening</span></a>
               
              </li>
              <li><a href="loaneligibility.html">Loan Eligibility Calculator</a></li>
              <li><a href="http://rsa.imperialmortgagebank.com/">RSA Form</a></li>
              <li><a href="ninvalidation.html">BVN & NIN Collection</a></li>
              <li><a href="https://account-reactivation.imperialmortgagebank.com">Account Re-activation</a></li>
              <li><a href="https://www.accountopening.imperialmortgagebank.com/referee/individual">Referee Form</a></li>
              <li><a href="./assets/books/corporatebank.pdf">Corporate i-Bank Form</a></li>

                  <li><a href="propertyInterest.html">Property Interest Questionaire Form</a></li>
                  <li><a href="nhfform.html">NHF Application Form</a></li>
                  <li><a href="https://www.mortgagebroker.imperialmortgagebank.com/">Realtor</a></li>
                  
            </ul>
          </li>
          <li><a class="nav-link scrollto" href="contact.html">Support</a></li>
          <li><a class="nav-link scrollto" href="carers.html">Careers</a></li>

        
          <li><a class="nav-link scrollto" href="property.html">Properties</a></li>
          <li><a id="remv" class="nav-link scrollto" href="https://ibs.imperialmortgagebank.com">Internet Banking</a></li>
        
          <li><a id="remv" class="nav-link scrollto" href="https://www.accountopening.imperialmortgagebank.com/">Open Account</a></li>

        </ul>
      
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->
      <div id="extra">
        <a  href="https://www.accountopening.imperialmortgagebank.com/" > 
     <p class="getstarted d-flex align-content-around flex-wrap">
      Open <br> Account 
     </p> 
    </a>

    
     <a href="https://ibs.imperialmortgagebank.com">
     <p class="getstarted d-flex align-content-around flex-wrap">
      Internet <br> Banking
     </p> 
    </a>
     <!-- <a href="https://www.mortgagebroker.imperialmortgagebank.com/">
     <p class="getstarted d-flex align-content-around flex-wrap">
      Realtor <br>
     </p> 
    </a> -->
     <a href="ninvalidation.html">
     <p class="getstarted d-flex align-content-around flex-wrap">
      NIN Collection <br>
     </p> 
    </a>


      </div>

    </div>
  </header><!-- End Header -->
    

  <!-- ======= Header ======= -->
  
    

  <section id="contact" style="margin-top: 100px; background-color: rgb(253, 249, 244);" class="contact">
    <div class="container" data-aos="fade-up">

      <div class="section-title">
        <p>BVN & NIN Collection</p>
      </div>

      <div class="row">
        <div class="col-lg-3"></div>
        <div class="col-lg-6 mt-5 mt-lg-0 d-flex " data-aos="fade-up" data-aos-delay="200">
          <form role="form" class="php" onsubmit="submitform(); return false">
            <div class="row">
              <div class="form-group col-md-12">
                <label for="bvn" class="label">BVN</label>
                <input id="bvn" type="text" pattern="\d*" minlength="11" maxlength="11" class="form-control" 
                autocomplete="off" oninput="handleBVNInput()" name="bvn" required>
              </div>
            </div>

            <div class="row">
              <div class="form-group col-md-12 mt-3 mt-md-0" id="information">
              </div>
            </div>

            <div class="row">
              <div class="form-group col-md-12 mt-3 mt-md-0">
                <label for="nin" class="label">NIN</label>
                <input type="text" name="nin" pattern="\d*" minlength="11" maxlength="11" class="form-control"  id="nin" required >
              </div>
            </div>
            
            <div class="text-center"><button type="submit" id="submitbutton">Validate</button></div>
          </form>
          
        </div>
        <div class="col-lg-3"></div>

</div>


      </div>

    </div>
  </section><!-- End Contact Us Section -->
 
  <footer id="footer">

    

    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-6 col-md-6 footer-contact">
            <h3><img src="./assets/img/imperial_logo.png" alt=""></h3>
            <p>Head Office
              27 Keffi Street,  
              off Awolowo Road,
              Ikoyi, Lagos <br>
              Abuja Office: Plot 266, FMBN Building, By Ceddi Plaza, Central Business District, Abuja. <br>
              <strong>Phone:</strong> (+234) 702 5126 457 <br>
              <strong>Email:</strong> info@imperialmortgagebank.com, customercare@imperialmortgagebank.com<br>
            </p>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="about.html">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="https://withdrawalrequest.imperialmortgagebank.com/">Withdrawal Request</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="https://www.accountopening.imperialmortgagebank.com/">Open Account</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="https://ibank.imperialmortgagebank.com/bankonline/">Internet Banking</a></li>
            </ul>
          </div>

       

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Our Social Networks</h4>
            <p></p>
            <div class="social-links mt-3">
              <a href="https://www.instagram.com/imperialhomesmortgagebank/" class="instagram"><i class="bx bxl-instagram"></i></a>
              <a href="https://www.linkedin.com/company/imperial-homes-mortgage-bank-limited/" class="linkedin"><i class="bx bxl-linkedin"></i></a>
              <a href="https://twitter.com/ImperialHomesMB" class="twitter"><i class="bx bxl-twitter"></i></a>

            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="container py-4">
      <div class="copyright">
        &copy; Copyright <strong><span>Imperial Homes Mortgage Bank</span></strong>. All Rights Reserved
      </div>
      <strong>Phone:</strong> (+234) 702 5126 457 <br>
    
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/js/loanelig.js"></script>

  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>


  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <!-- nin validation -->
  <script>
    function handleBVNInput() {
            var bvnInput = document.getElementById('bvn').value;

            if (bvnInput.length === 11) {
                document.getElementById('information').innerHTML = 'Loading...';
                makeAPICall(bvnInput);
            } else {
                document.getElementById('information').innerHTML = '<span style="color: red;">Please enter a valid 11-digit BVN.</span>';
            }
        }

        function makeAPICall(bvn) {
            
            var apiUrl = 'https://bvnvalidation.imperialmortgagebank.com/bvnval/OPsVerifyDetails';
            var authToken = 'TFRNQiRSZW1pdGE6THRPbWI4ZjI0NDYtNDVAMjQtYWVjMg==';

            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'AuthToken': authToken,
                },
                body: JSON.stringify({
                    UserVerifyRef: bvn,
                    UserVerifyType: '0',
                    deviceinfo: 'iphoneproMax',
                }),
            })
                .then(response => {
                    if (response.ok) {
                        return response.json();
                    } else {
                        throw new Error('Network response was not ok.');
                    }
                })
                .then(data => {
                    if (data.responseCode === '00') {
                      document.getElementById('information').innerHTML = '<span style="color: green;">BVN and NIN fetched successfully, please confirm your NIN is correct and then click on validate.</span>';
                      if(data.data[0].NIN.length === 11){
                        document.getElementById('nin').value = data.data[0].NIN;
                        document.getElementById('nin').readOnly = false;
                      }else {
                        document.getElementById('information').innerHTML = '<span style="color: red;">NIN not found, please enter a valid NIN and then click on validate.</span>';
                        document.getElementById('nin').readOnly = false;
                      }

                    } else if (data.responseCode === '01') {
                        document.getElementById('information').innerHTML = data.responseText;
                        document.getElementById('nin').readOnly = false;
                    } else if (data.responseCode === '15') {
                        document.getElementById('information').innerHTML = "<span style='color: red;'>"+ data.responseText + ' you will now be redirected to validate your BVN'+"</span>";
                        setTimeout(() => {
                            window.open(data.url, '_blank');
                            location.reload();
                        }, 3000);
                    } else {
                        document.getElementById('information').innerHTML = 'Unexpected response code: ' + data.responseCode;
                        document.getElementById('nin').readOnly = false;
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('information').innerHTML = 'Error fetching data.';
                });
        }

        function submitform() {
          var apiUrl = 'https://bvnvalidation.imperialmortgagebank.com/bvnval/OPsVerifyInfoUpdate';
          var authToken = 'TFRNQiRSZW1pdGE6THRPbWI4ZjI0NDYtNDVAMjQtYWVjMg==';
          bvn = document.getElementById('bvn').value;
          nin = document.getElementById('nin').value;

          fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'AuthToken': authToken,
                },
                body: JSON.stringify({
                    UserVerifyRef: bvn,
                    UserVerifyType: '0',
                    NIN: nin,
                }),
            })
            .then(response => {
                    if (response.ok) {
                        return response.json();
                        console.log(response.json());
                    } else {
                        throw new Error('Network response was not ok.');
                    }
                })
                .then(data => {
                  if (data.responseCode === '00') {
                      displayFlashMessage('Success', data.responseText);
                    } else if (data.responseCode === '01') {
                      displayFlashMessage('Success', 'Thank you for updating your data.');
                    } else {
                      displayFlashMessage('Error', 'Unexpected response code: ' + data.responseText);
                  }
                })
                .catch(error => {
                    console.error('Error:', error);
                    displayFlashMessage('Error', 'Error submitting data.');
                });
        }

        function displayFlashMessage(title, message) {
            var flashCard = document.createElement('div');
            flashCard.className = 'flash-card';
            flashCard.innerHTML = `
                <div class="flash-card-header">
                    <span class="flash-card-close">&times;</span>
                </div>
                <div class="flash-card-body">
                    <div class="flash-card-title">${title}</div>
                    <div class="flash-card-message">${message}</div>
                </div>
            `;
            document.body.appendChild(flashCard);
            
            var closeButton = flashCard.querySelector('.flash-card-close');
            if (closeButton) {
                closeButton.addEventListener('click', function() {
                    location.reload(); 
                });
            }
        }

  </script>

</body>

</html>
